<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <!-- Meta viewport para renderização em dispositivos móveis -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>História Interativa - Proteja Seus Dados</title>
  <style>
    /* Reset básico e estilos comuns */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #2c3e50, #4ca1af);
      padding: 20px;
      display: flex;
      justify-content: center;
      color: #333;
    }
    /* Container principal (área branca) */
    #scenario-container {
      background: #fff;
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 0 15px rgba(0,0,0,0.2);
      width: 100%;
      max-width: 700px;
      margin: 40px 0;
      animation: fadeIn 0.8s ease-in-out;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    h1 {
      text-align: center;
      margin-bottom: 20px;
    }
    /* Indicador da parte */
    #scenario-progress {
      text-align: center;
      font-weight: bold;
      margin-bottom: 15px;
      font-size: 1.1em;
    }
    /* Descrição da situação */
    #scenario-description p {
      font-size: 1.1em;
      margin-bottom: 20px;
    }
    /* Container para a imagem */
    #image-container img {
      max-width: 100%;
      border-radius: 10px;
      margin-bottom: 20px;
    }
    /* Botões das opções em fileira */
    #options.horizontal-options {
      display: flex;
      flex-wrap: nowrap;
      justify-content: center;
      gap: 10px;
      margin-bottom: 20px;
    }
    #options.horizontal-options .option {
      flex: 1 1 0%;
      padding: 15px;
      font-size: 1.1em;
      border: none;
      border-radius: 5px;
      color: #333;
      background-color: #d3d3d3; /* Cinza bem claro */
      transition: background-color 0.3s;
      cursor: pointer;
    }
    #options.horizontal-options .option:hover:not(:disabled) {
      background-color: #c0c0c0;
    }
    button:disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }
    /* Botão para recomeçar a história */
    #restartBtn, #nextBtn {
      width: 100%;
      padding: 15px;
      font-size: 1.2em;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      transition: background-color 0.3s;
      margin-top: 20px;
    }
    #nextBtn {
      background-color: #28a745;
      color: #fff;
    }
    #nextBtn:hover {
      background-color: #218838;
    }
    #restartBtn {
      background-color: #007acc;
      color: #fff;
    }
    #restartBtn:hover {
      background-color: #005b99;
    }
    /* Estilo do feedback (caso queira incluir) */
    #feedback {
      margin-top: 20px;
      font-size: 1.1em;
      padding: 15px;
      border-radius: 5px;
    }
    .good { background-color: #d4edda; color: #155724; }
    .medium { background-color: #fff3cd; color: #856404; }
    .bad { background-color: #f8d7da; color: #721c24; }
  </style>
</head>
<body>
  <div id="scenario-container">
    <h1>Proteja Seus Dados</h1>
    <div id="scenario-progress"></div>
    <div id="scenario-description"></div>
    <div id="image-container"></div>
    <div id="options" class="horizontal-options"></div>
    <div id="feedback" style="display: none;"></div>
    <!-- Botão de recomeçar, aparece apenas no final -->
    <button id="restartBtn" style="display: none;">Recomeçar</button>
  </div>

  <script>
    // Estrutura da história (nós) com três partes e três finais
    const storyNodes = {
      "start": {
        part: 1,
        text: "Você recebe um e-mail suspeito informando que sua conta está comprometida. Qual é a sua ação?",
        image: "imagens/ruim1.png",
        options: [
          { text: "Clicar no link imediatamente", next: "bad1" },
          { text: "Verificar a autenticidade com cuidado", next: "good1" },
          { text: "Ignorar a mensagem", next: "medium1" }
        ]
      },
      "bad1": {
        part: 2,
        text: "Você clica no link e, infelizmente, seu dispositivo é infectado por malware. Logo após, surge uma nova mensagem solicitando informações pessoais. O que você faz?",
        image: "imagens/ruim2.png",
        options: [
          { text: "Fornecer seus dados", next: "bad_end" },
          { text: "Ignorar a solicitação", next: "medium_end" },
          { text: "Tentar remover o malware sozinho", next: "medium_end" }
        ]
      },
      "good1": {
        part: 2,
        text: "Você verifica a origem da mensagem e descobre que é falsa. Agora, para reforçar sua segurança, o que você decide fazer?",
        image: "https://via.placeholder.com/500x300?text=Parte+2+-+Caminho+Bom",
        options: [
          { text: "Atualizar senhas e ativar autenticação de dois fatores", next: "good_end" },
          { text: "Ignorar recomendações, achando que está seguro", next: "medium_end" },
          { text: "Clicar em links de “melhoria” de segurança enviados por terceiros", next: "bad_end" }
        ]
      },
      "medium1": {
        part: 2,
        text: "Você opta por ignorar o e-mail, mas no dia seguinte recebe um alerta do banco sobre atividade suspeita. Como você reage?",
        image: "https://via.placeholder.com/500x300?text=Parte+2+-+Caminho+Médio",
        options: [
          { text: "Ativar autenticação de dois fatores imediatamente", next: "good_end" },
          { text: "Ligar para o banco sem confirmar o número oficial", next: "bad_end" },
          { text: "Ignorar o alerta, achando que é um falso positivo", next: "medium_end" }
        ]
      },
      "good_end": {
        part: 3,
        text: "Parabéns! Suas escolhas foram assertivas. Você reforçou sua segurança digital e protegeu seus dados com sucesso.",
        image: "https://via.placeholder.com/500x300?text=Final+Bom",
        options: []
      },
      "medium_end": {
        part: 3,
        text: "Você se protegeu de forma razoável, mas ainda deixou algumas vulnerabilidades. Reflita sobre suas decisões e busque melhorar suas práticas.",
        image: "https://via.placeholder.com/500x300?text=Final+Médio",
        options: []
      },
      "bad_end": {
        part: 3,
        text: "Infelizmente, suas escolhas permitiram que seus dados fossem comprometidos. É fundamental repensar suas atitudes e aprender com os erros.",
        image: "imagens/ruim3.jpg",
        options: []
      }
    };

    let currentNodeId = "start";

    // Referências aos elementos da interface
    const scenarioProgress = document.getElementById("scenario-progress");
    const scenarioDescription = document.getElementById("scenario-description");
    const imageContainer = document.getElementById("image-container");
    const optionsContainer = document.getElementById("options");
    const feedbackEl = document.getElementById("feedback");
    const restartBtn = document.getElementById("restartBtn");

    // Função para carregar um nó da história
    function loadStory() {
      // Limpa feedback e opções
      feedbackEl.style.display = "none";
      optionsContainer.innerHTML = "";
      feedbackEl.innerText = "";
      feedbackEl.className = "";
      imageContainer.innerHTML = "";

      const node = storyNodes[currentNodeId];
      scenarioProgress.innerText = `Parte ${node.part} de 3`;
      scenarioDescription.innerHTML = `<p>${node.text}</p>`;
      imageContainer.innerHTML = `<img src="${node.image}" alt="Imagem da parte ${node.part}">`;

      // Se houver opções (a história continua)
      if (node.options && node.options.length > 0) {
        node.options.forEach(option => {
          const btn = document.createElement("button");
          btn.className = "option";
          btn.innerText = option.text;
          optionsContainer.appendChild(btn);
          btn.addEventListener("click", function() {
            currentNodeId = option.next;
            loadStory();
          });
        });
        // Esconde o botão de reiniciar (caso esteja visível de um final anterior)
        restartBtn.style.display = "none";
      } else {
        // Se não houver opções, alcançamos um final
        // Exibe o botão de reiniciar para começar de novo
        restartBtn.style.display = "block";
      }
    }

    // Reinicia a história
    restartBtn.addEventListener("click", function() {
      currentNodeId = "start";
      loadStory();
    });

    // Inicia a história
    loadStory();
  </script>
</body>
</html>
